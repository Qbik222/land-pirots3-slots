"use strict";

window.addEventListener('orientationchange', function () {
  window.location.reload();
});
var playBtn = document.querySelector('.play-btn'),
  overlay = document.querySelector('.land__overlay'),
  popup = document.querySelector('.popup'),
  overflow = document.querySelector('body'),
  wrapper = document.querySelector('.land'),
  // bubbleText = document.querySelector('.bonus__main-bubble'),
  winOuter = document.querySelector('.outer-col-win'),
  slotsWindow = document.querySelector(".window");

//slots
var icons = ['win1.png', 'win2.png', 'win3.png', 'win4.png', 'win5.png', 'win6.png', 'win7.png', 'win8.png', 'win9.png', 'win10.png', 'win11.png', 'win12.png', 'win13.png', 'win14.png', 'win15.png'];
var slots = document.querySelector('.slots');
var cols = document.querySelectorAll('.col');
for (var i in cols) {
  if (!cols.hasOwnProperty(i)) continue;
  var col = cols[i];
  var str = '';
  var firstThree = '';
  for (var x = 0; x < 30; x++) {
    var part = '<div class="icon-wrap"><img class="icon" src="img/slots/' + icons[Math.floor(Math.random() * icons.length)] + '"></div>';
    // var part = '<img class="icon" src="img/slots/'+icons[Math.floor(Math.random()*icons.length)]+'">';
    str += part;
    if (x < 3) firstThree += part;
  }
  col.innerHTML = str + firstThree;
}
(function startSlotsImg() {
  var startCol1 = ['win1.png', 'win12.png', 'win13.png'];
  var startCol2 = ['win7.png', 'win8.png', 'win10.png'];
  var startCol3 = ['win11.png', 'win14.png', 'win12.png'];
  var startCol4 = ['win5.png', 'win1.png', 'win2.png'];
  var startCol5 = ['win5.png', 'win6.png', 'win13.png'];
  var colsImg1 = Array.from(cols[0].querySelectorAll('img'));
  colsImg1[32].setAttribute('src', 'img/slots/' + startCol1[0]);
  colsImg1[31].setAttribute('src', 'img/slots/' + startCol1[1]);
  colsImg1[30].setAttribute('src', 'img/slots/' + startCol1[2]);
  var colsImg2 = Array.from(cols[1].querySelectorAll('img'));
  colsImg2[32].setAttribute('src', 'img/slots/' + startCol2[0]);
  colsImg2[31].setAttribute('src', 'img/slots/' + startCol2[1]);
  colsImg2[30].setAttribute('src', 'img/slots/' + startCol2[2]);
  var colsImg3 = Array.from(cols[2].querySelectorAll('img'));
  colsImg3[32].setAttribute('src', 'img/slots/' + startCol3[0]);
  colsImg3[31].setAttribute('src', 'img/slots/' + startCol3[1]);
  colsImg3[30].setAttribute('src', 'img/slots/' + startCol3[2]);
  var colsImg4 = Array.from(cols[3].querySelectorAll('img'));
  colsImg4[32].setAttribute('src', 'img/slots/' + startCol4[0]);
  colsImg4[31].setAttribute('src', 'img/slots/' + startCol4[1]);
  colsImg4[30].setAttribute('src', 'img/slots/' + startCol4[2]);
  var colsImg5 = Array.from(cols[4].querySelectorAll('img'));
  colsImg5[32].setAttribute('src', 'img/slots/' + startCol5[0]);
  colsImg5[31].setAttribute('src', 'img/slots/' + startCol5[1]);
  colsImg5[30].setAttribute('src', 'img/slots/' + startCol5[2]);
})();
var win1Col1 = ['win1.png', 'win5.png', 'win13.png'];
var win1Col2 = ['win7.png', 'win5.png', 'win10.png'];
var win1Col3 = ['win11.png', 'win5.png', 'win12.png'];
var win1Col4 = ['win11.png', 'win5.png', 'win2.png'];
var win1Col5 = ['win2.png', 'win5.png', 'win13.png'];
var colsImg1 = Array.from(cols[0].querySelectorAll('img'));
var colsImg2 = Array.from(cols[1].querySelectorAll('img'));
var colsImg3 = Array.from(cols[2].querySelectorAll('img'));
var colsImg4 = Array.from(cols[3].querySelectorAll('img'));
var colsImg5 = Array.from(cols[4].querySelectorAll('img'));
var colsImg1Two = Array.from(cols[0].querySelectorAll('img'));
var colsImg2Two = Array.from(cols[1].querySelectorAll('img'));
var colsImg3Two = Array.from(cols[2].querySelectorAll('img'));
var colsImg4Two = Array.from(cols[3].querySelectorAll('img'));
var colsImg5Two = Array.from(cols[4].querySelectorAll('img'));
var tries = 0;
function spin() {
  //sounds

  slots.classList.toggle('spinning', true);
  //Фикс для Сафари, который решил глотать последние картинки при прокрутке
  if (tries === 0) {
    window.setTimeout(function () {
      var cols = document.querySelectorAll('.col');
      tries++;
      console.log(colsImg1[32]);
      colsImg1[32].setAttribute('src', 'img/slots/' + win1Col1[2]);
      colsImg1[31].setAttribute('src', 'img/slots/' + win1Col1[1]);
      colsImg1[30].setAttribute('src', 'img/slots/' + win1Col1[0]);
      colsImg1[0].setAttribute('src', 'img/slots/' + win1Col1[0]);
      colsImg1[1].setAttribute('src', 'img/slots/' + win1Col1[1]);
      colsImg1[2].setAttribute('src', 'img/slots/' + win1Col1[2]);
      colsImg2[32].setAttribute('src', 'img/slots/' + win1Col2[2]);
      colsImg2[31].setAttribute('src', 'img/slots/' + win1Col2[1]);
      colsImg2[30].setAttribute('src', 'img/slots/' + win1Col2[0]);
      colsImg2[0].setAttribute('src', 'img/slots/' + win1Col2[0]);
      colsImg2[1].setAttribute('src', 'img/slots/' + win1Col2[1]);
      colsImg2[2].setAttribute('src', 'img/slots/' + win1Col2[2]);
      colsImg3[32].setAttribute('src', 'img/slots/' + win1Col3[2]);
      colsImg3[31].setAttribute('src', 'img/slots/' + win1Col3[1]);
      colsImg3[30].setAttribute('src', 'img/slots/' + win1Col3[0]);
      colsImg3[0].setAttribute('src', 'img/slots/' + win1Col3[0]);
      colsImg3[1].setAttribute('src', 'img/slots/' + win1Col3[1]);
      colsImg3[2].setAttribute('src', 'img/slots/' + win1Col3[2]);
      colsImg4[32].setAttribute('src', 'img/slots/' + win1Col4[2]);
      colsImg4[31].setAttribute('src', 'img/slots/' + win1Col4[1]);
      colsImg4[30].setAttribute('src', 'img/slots/' + win1Col4[0]);
      colsImg4[0].setAttribute('src', 'img/slots/' + win1Col4[0]);
      colsImg4[1].setAttribute('src', 'img/slots/' + win1Col4[1]);
      colsImg4[2].setAttribute('src', 'img/slots/' + win1Col4[2]);
      colsImg5[32].setAttribute('src', 'img/slots/' + win1Col5[2]);
      colsImg5[31].setAttribute('src', 'img/slots/' + win1Col5[1]);
      colsImg5[30].setAttribute('src', 'img/slots/' + win1Col5[0]);
      colsImg5[0].setAttribute('src', 'img/slots/' + win1Col5[0]);
      colsImg5[1].setAttribute('src', 'img/slots/' + win1Col5[1]);
      colsImg5[2].setAttribute('src', 'img/slots/' + win1Col5[2]);
    }, 1500);
  }
  window.setTimeout(function () {
    slots.classList.toggle('spinning', false);
    if (tries === 1) {
      slotsWindow.classList.add("afterSpin");
      colsImg1[31].parentElement.classList.add('_winAnim');
      colsImg2[31].parentElement.classList.add('_winAnim');
      colsImg3[31].parentElement.classList.add('_winAnim');
      colsImg4[31].parentElement.classList.add('_winAnim');
      colsImg5[31].parentElement.classList.add('_winAnim');
      winOuter.classList.add('_winOne');
    }
  }, 3500);
}
var triesCounter = 0;
// let babbleTextAfterRotation = 'Tienes una oportunidad, mortal'

playBtn.addEventListener('click', function () {
  if (triesCounter === 0) {
    runFirstRotation();
  }
});
function runFirstRotation() {
  playBtn.classList.remove('pulse-btn');
  playBtn.style.cursor = 'default';
  wrapper.style.pointerEvents = 'none';
  spin();
  setTimeout(function () {
    doAfterFirstRotation();
    setTimeout(function () {
      popup.querySelector(".popup__pers-bulb").classList.add("bulb-fadeIn");
    }, 300);
  }, 4000);
  triesCounter++;
}
function displayPopup(popup) {
  overlay.classList.remove('_opacity-overlay');
  popup.classList.remove('hide');
}
function doAfterFirstRotation() {
  displayPopup(popup);
  // wrapper.style.pointerEvents = 'auto'
  overflow.style.overflow = 'hidden';
  document.querySelector(".all-link").style.display = "block";
  wrapper.style.pointerEvents = "none";
}
cols.forEach(function (item) {
  if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
    // код для мобильных устройств
    item.classList.add('_ios');
  } else {
    // код для обычных устройств
    item.classList.remove('_ios');
  }

  // for test
  document.querySelector(".popup-btn").addEventListener("click", function () {
    if (overlay.classList.contains("_opacity-overlay")) {
      displayPopup(popup);
      setTimeout(function () {
        popup.querySelector(".popup__pers-bulb").classList.add("bulb-fadeIn");
      }, 300);
      return;
    } else {
      overlay.classList.add("_opacity-overlay");
      setTimeout(function () {
        popup.querySelector(".popup__pers-bulb").classList.remove("bulb-fadeIn");
      }, 300);
    }
  });
});

// TDS script

(function () {
  var url = new URL(window.location.href);
  var params = ['l', 'utm_source', 'utm_medium', 'utm_campaign', 'utm_term', 'utm_content', 'param1', 'param2', 'param3', 'param4', 'creative_type', 'creative_id'];
  var linkParams = ['affid', 'cpaid']; // ищем в url redirectUrl в url:

  if (url.searchParams.has('redirectUrl')) {
    var redirectUrl = new URL(url.searchParams.get('redirectUrl'));
    if (redirectUrl.href.match(/\//g).length === 4 && redirectUrl.searchParams.get('l')) {
      //если ссылка в ссылка redirectUrl корректная
      localStorage.setItem('redirectUrl', redirectUrl.href); // указываем точкой входа домен с протоколом из redirectUrl
    }
  }

  params.forEach(function (param) {
    if (url.searchParams.has(param)) localStorage.setItem(param, url.searchParams.get(param));
  });
  linkParams.forEach(function (linkParam) {
    if (url.searchParams.has(linkParam)) localStorage.setItem(linkParam, url.searchParams.get(linkParam));
  });
  window.addEventListener('click', function (e) {
    var link,
      parent = e.target.closest('a');
    if (parent.getAttribute('href') !== 'https://tds.favbet.partners') {
      return;
    }
    if (parent) {
      e.preventDefault();
      var affid = localStorage.getItem('affid');
      var cpaid = localStorage.getItem('cpaid');
      if (localStorage.getItem("redirectUrl")) {
        link = new URL(localStorage.getItem("redirectUrl"));
      } else {
        link = new URL(parent.href);
        if (affid && cpaid) {
          link.pathname = '/' + affid + '/' + cpaid;
        }
      }
      params.forEach(function (param) {
        if (url.searchParams.has(param)) {
          link.searchParams.set(param, localStorage.getItem(param));
        }
      });
      document.location.href = link;
    }
  });
})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImxvY2F0aW9uIiwicmVsb2FkIiwicGxheUJ0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm92ZXJsYXkiLCJwb3B1cCIsIm92ZXJmbG93Iiwid3JhcHBlciIsIndpbk91dGVyIiwic2xvdHNXaW5kb3ciLCJpY29ucyIsInNsb3RzIiwiY29scyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpIiwiaGFzT3duUHJvcGVydHkiLCJjb2wiLCJzdHIiLCJmaXJzdFRocmVlIiwieCIsInBhcnQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJsZW5ndGgiLCJpbm5lckhUTUwiLCJzdGFydFNsb3RzSW1nIiwic3RhcnRDb2wxIiwic3RhcnRDb2wyIiwic3RhcnRDb2wzIiwic3RhcnRDb2w0Iiwic3RhcnRDb2w1IiwiY29sc0ltZzEiLCJBcnJheSIsImZyb20iLCJzZXRBdHRyaWJ1dGUiLCJjb2xzSW1nMiIsImNvbHNJbWczIiwiY29sc0ltZzQiLCJjb2xzSW1nNSIsIndpbjFDb2wxIiwid2luMUNvbDIiLCJ3aW4xQ29sMyIsIndpbjFDb2w0Iiwid2luMUNvbDUiLCJjb2xzSW1nMVR3byIsImNvbHNJbWcyVHdvIiwiY29sc0ltZzNUd28iLCJjb2xzSW1nNFR3byIsImNvbHNJbWc1VHdvIiwidHJpZXMiLCJzcGluIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwic2V0VGltZW91dCIsImNvbnNvbGUiLCJsb2ciLCJhZGQiLCJwYXJlbnRFbGVtZW50IiwidHJpZXNDb3VudGVyIiwicnVuRmlyc3RSb3RhdGlvbiIsInJlbW92ZSIsInN0eWxlIiwiY3Vyc29yIiwicG9pbnRlckV2ZW50cyIsImRvQWZ0ZXJGaXJzdFJvdGF0aW9uIiwiZGlzcGxheVBvcHVwIiwiZGlzcGxheSIsImZvckVhY2giLCJpdGVtIiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImNvbnRhaW5zIiwidXJsIiwiVVJMIiwiaHJlZiIsInBhcmFtcyIsImxpbmtQYXJhbXMiLCJzZWFyY2hQYXJhbXMiLCJoYXMiLCJyZWRpcmVjdFVybCIsImdldCIsIm1hdGNoIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInBhcmFtIiwibGlua1BhcmFtIiwiZSIsImxpbmsiLCJwYXJlbnQiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiZ2V0QXR0cmlidXRlIiwicHJldmVudERlZmF1bHQiLCJhZmZpZCIsImdldEl0ZW0iLCJjcGFpZCIsInBhdGhuYW1lIiwic2V0Il0sIm1hcHBpbmdzIjoiOztBQUFBQSxNQUFNLENBQUNDLGdCQUFnQixDQUFDLG1CQUFtQixFQUFFLFlBQU07RUFDL0NELE1BQU0sQ0FBQ0UsUUFBUSxDQUFDQyxNQUFNLEVBQUU7QUFDNUIsQ0FBQyxDQUFDO0FBRUYsSUFBTUMsT0FBTyxHQUFHQyxRQUFRLENBQUNDLGFBQWEsQ0FBQyxXQUFXLENBQUM7RUFDL0NDLE9BQU8sR0FBR0YsUUFBUSxDQUFDQyxhQUFhLENBQUMsZ0JBQWdCLENBQUM7RUFDbERFLEtBQUssR0FBR0gsUUFBUSxDQUFDQyxhQUFhLENBQUMsUUFBUSxDQUFDO0VBQ3hDRyxRQUFRLEdBQUdKLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLE1BQU0sQ0FBQztFQUN6Q0ksT0FBTyxHQUFHTCxRQUFRLENBQUNDLGFBQWEsQ0FBQyxPQUFPLENBQUM7RUFDekM7RUFDQUssUUFBUSxHQUFHTixRQUFRLENBQUNDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQztFQUNuRE0sV0FBVyxHQUFHUCxRQUFRLENBQUNDLGFBQWEsQ0FBQyxTQUFTLENBQUM7O0FBR25EO0FBQ0EsSUFBSU8sS0FBSyxHQUFHLENBQ1IsVUFBVSxFQUFDLFVBQVUsRUFBQyxVQUFVLEVBQUMsVUFBVSxFQUFDLFVBQVUsRUFBQyxVQUFVLEVBQUMsVUFBVSxFQUFDLFVBQVUsRUFBQyxVQUFVLEVBQ2xHLFdBQVcsRUFBQyxXQUFXLEVBQUMsV0FBVyxFQUFDLFdBQVcsRUFBQyxXQUFXLEVBQUMsV0FBVyxDQUMxRTtBQUVELElBQUlDLEtBQUssR0FBR1QsUUFBUSxDQUFDQyxhQUFhLENBQUMsUUFBUSxDQUFDO0FBQzVDLElBQUlTLElBQUksR0FBR1YsUUFBUSxDQUFDVyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUM7QUFFNUMsS0FBSSxJQUFJQyxDQUFDLElBQUlGLElBQUksRUFBRTtFQUNmLElBQUksQ0FBQ0EsSUFBSSxDQUFDRyxjQUFjLENBQUNELENBQUMsQ0FBQyxFQUN2QjtFQUNKLElBQUlFLEdBQUcsR0FBR0osSUFBSSxDQUFDRSxDQUFDLENBQUM7RUFDakIsSUFBSUcsR0FBRyxHQUFHLEVBQUU7RUFDWixJQUFJQyxVQUFVLEdBQUcsRUFBRTtFQUNuQixLQUFJLElBQUlDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBRyxFQUFFLEVBQUVBLENBQUMsRUFBRSxFQUFFO0lBQ3hCLElBQUlDLElBQUksR0FBRywwREFBMEQsR0FBQ1YsS0FBSyxDQUFDVyxJQUFJLENBQUNDLEtBQUssQ0FBQ0QsSUFBSSxDQUFDRSxNQUFNLEVBQUUsR0FBQ2IsS0FBSyxDQUFDYyxNQUFNLENBQUMsQ0FBQyxHQUFDLFVBQVU7SUFDOUg7SUFDQVAsR0FBRyxJQUFJRyxJQUFJO0lBQ1gsSUFBSUQsQ0FBQyxHQUFHLENBQUMsRUFBRUQsVUFBVSxJQUFJRSxJQUFJO0VBQ2pDO0VBQ0FKLEdBQUcsQ0FBQ1MsU0FBUyxHQUFJUixHQUFHLEdBQUNDLFVBQVU7QUFDbkM7QUFFQSxDQUFDLFNBQVNRLGFBQWEsR0FBRTtFQUVyQixJQUFNQyxTQUFTLEdBQUcsQ0FBQyxVQUFVLEVBQUUsV0FBVyxFQUFFLFdBQVcsQ0FBQztFQUN4RCxJQUFNQyxTQUFTLEdBQUcsQ0FBQyxVQUFVLEVBQUUsVUFBVSxFQUFFLFdBQVcsQ0FBQztFQUN2RCxJQUFNQyxTQUFTLEdBQUcsQ0FBQyxXQUFXLEVBQUUsV0FBVyxFQUFFLFdBQVcsQ0FBQztFQUN6RCxJQUFNQyxTQUFTLEdBQUcsQ0FBQyxVQUFVLEVBQUUsVUFBVSxFQUFFLFVBQVUsQ0FBQztFQUN0RCxJQUFNQyxTQUFTLEdBQUcsQ0FBQyxVQUFVLEVBQUUsVUFBVSxFQUFFLFdBQVcsQ0FBQztFQUt2RCxJQUFNQyxRQUFRLEdBQUdDLEtBQUssQ0FBQ0MsSUFBSSxDQUFDdEIsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztFQUM1RG1CLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQ0csWUFBWSxDQUFDLEtBQUssRUFBRSxZQUFZLEdBQUVSLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUM1REssUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDRyxZQUFZLENBQUMsS0FBSyxFQUFFLFlBQVksR0FBRVIsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQzVESyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUNHLFlBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxHQUFFUixTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFHNUQsSUFBTVMsUUFBUSxHQUFHSCxLQUFLLENBQUNDLElBQUksQ0FBQ3RCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7RUFDNUR1QixRQUFRLENBQUMsRUFBRSxDQUFDLENBQUNELFlBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxHQUFFUCxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDNURRLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQ0QsWUFBWSxDQUFDLEtBQUssRUFBRSxZQUFZLEdBQUVQLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUM1RFEsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDRCxZQUFZLENBQUMsS0FBSyxFQUFFLFlBQVksR0FBRVAsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBRTVELElBQU1TLFFBQVEsR0FBR0osS0FBSyxDQUFDQyxJQUFJLENBQUN0QixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO0VBQzVEd0IsUUFBUSxDQUFDLEVBQUUs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RUFBRSxDQUFDLENBQUNHLFlBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxHQUFFSyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDM0RSLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQ0csWUFBWSxDQUFDLEtBQUssRUFBRSxZQUFZLEdBQUVLLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUMzRFIsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDRyxZQUFZLENBQUMsS0FBSyxFQUFFLFlBQVksR0FBRUssUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO01BQzFEUixRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUNHLFlBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxHQUFFSyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDMURSLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQ0csWUFBWSxDQUFDLEtBQUssRUFBRSxZQUFZLEdBQUVLLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUUxREosUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDRCxZQUFZLENBQUMsS0FBSyxFQUFFLFlBQVksR0FBRU0sUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO01BQzNETCxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUNELFlBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxHQUFFTSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDM0RMLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQ0QsWUFBWSxDQUFDLEtBQUssRUFBRSxZQUFZLEdBQUVNLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUMzREwsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDRCxZQUFZLENBQUMsS0FBSyxFQUFFLFlBQVksR0FBRU0sUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO01BQzFETCxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUNELFlBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxHQUFFTSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDMURMLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQ0QsWUFBWSxDQUFDLEtBQUssRUFBRSxZQUFZLEdBQUVNLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUUxREosUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDRixZQUFZLENBQUMsS0FBSyxFQUFFLFlBQVksR0FBRU8sUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO01BQzNETCxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUNGLFlBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxHQUFFTyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDM0RMLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQ0YsWUFBWSxDQUFDLEtBQUssRUFBRSxZQUFZLEdBQUVPLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUMzREwsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDRixZQUFZLENBQUMsS0FBSyxFQUFFLFlBQVksR0FBRU8sUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO01BQzFETCxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUNGLFlBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxHQUFFTyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDMURMLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQ0YsWUFBWSxDQUFDLEtBQUssRUFBRSxZQUFZLEdBQUVPLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUUxREosUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDSCxZQUFZLENBQUMsS0FBSyxFQUFFLFlBQVksR0FBRVEsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO01BQzNETCxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUNILFlBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxHQUFFUSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDM0RMLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQ0gsWUFBWSxDQUFDLEtBQUssRUFBRSxZQUFZLEdBQUVRLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUMzREwsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDSCxZQUFZ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LElBQUlDLEtBQUssR0FBR2IsWUFBWSxDQUFDWSxPQUFPLENBQUMsT0FBTyxDQUFDO01BRXpDLElBQUlaLFlBQVksQ0FBQ1ksT0FBTyxDQUFDLGFBQWEsQ0FBQyxFQUFFO1FBQ3JDUCxJQUFJLEdBQUcsSUFBSWQsR0FBRyxDQUFDUyxZQUFZLENBQUNZLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztNQUN2RCxDQUFDLE1BQU07UUFDSFAsSUFBSSxHQUFHLElBQUlkLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDZCxJQUFJLENBQUM7UUFDM0IsSUFBSW1CLEtBQUssSUFBSUUsS0FBSyxFQUFFO1VBQ2hCUixJQUFJLENBQUNTLFFBQVEsR0FBRyxHQUFHLEdBQUdILEtBQUssR0FBRyxHQUFHLEdBQUdFLEtBQUs7UUFDN0M7TUFDSjtNQUNBcEIsTUFBTSxDQUFDVCxPQUFPLENBQUMsVUFBVWtCLEtBQUssRUFBRTtRQUM1QixJQUFJWixHQUFHLENBQUNLLFlBQVksQ0FBQ0MsR0FBRyxDQUFDTSxLQUFLLENBQUMsRUFBRTtVQUM3QkcsSUFBSSxDQUFDVixZQUFZLENBQUNvQixHQUFHLENBQUNiLEtBQUssRUFBRUYsWUFBWSxDQUFDWSxPQUFPLENBQUNWLEtBQUssQ0FBQyxDQUFDO1FBQzdEO01BQ0osQ0FBQyxDQUFDO01BQ0ZwRixRQUFRLENBQUNILFFBQVEsQ0FBQzZFLElBQUksR0FBR2EsSUFBSTtJQUNqQztFQUNKLENBQUMsQ0FBQztBQUNOLENBQUMsR0FBRyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgKCkgPT4ge1xuICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxufSk7XG5cbmNvbnN0IHBsYXlCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGxheS1idG4nKSxcbiAgICBvdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxhbmRfX292ZXJsYXknKSxcbiAgICBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpLFxuICAgIG92ZXJmbG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLFxuICAgIHdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGFuZCcpLFxuICAgIC8vIGJ1YmJsZVRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm9udXNfX21haW4tYnViYmxlJyksXG4gICAgd2luT3V0ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3V0ZXItY29sLXdpbicpLFxuICAgIHNsb3RzV2luZG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aW5kb3dcIilcblxuXG4vL3Nsb3RzXG52YXIgaWNvbnMgPSBbXG4gICAgJ3dpbjEucG5nJywnd2luMi5wbmcnLCd3aW4zLnBuZycsJ3dpbjQucG5nJywnd2luNS5wbmcnLCd3aW42LnBuZycsJ3dpbjcucG5nJywnd2luOC5wbmcnLCd3aW45LnBuZycsXG4gICAgJ3dpbjEwLnBuZycsJ3dpbjExLnBuZycsJ3dpbjEyLnBuZycsJ3dpbjEzLnBuZycsJ3dpbjE0LnBuZycsJ3dpbjE1LnBuZydcbl07XG5cbnZhciBzbG90cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbG90cycpO1xudmFyIGNvbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29sJyk7XG5cbmZvcih2YXIgaSBpbiBjb2xzKSB7XG4gICAgaWYgKCFjb2xzLmhhc093blByb3BlcnR5KGkpKVxuICAgICAgICBjb250aW51ZTtcbiAgICB2YXIgY29sID0gY29sc1tpXTtcbiAgICB2YXIgc3RyID0gJyc7XG4gICAgdmFyIGZpcnN0VGhyZWUgPSAnJztcbiAgICBmb3IodmFyIHggPSAwOyB4IDwgMzA7IHgrKykge1xuICAgICAgICB2YXIgcGFydCA9ICc8ZGl2IGNsYXNzPVwiaWNvbi13cmFwXCI+PGltZyBjbGFzcz1cImljb25cIiBzcmM9XCJpbWcvc2xvdHMvJytpY29uc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqaWNvbnMubGVuZ3RoKV0rJ1wiPjwvZGl2Pic7XG4gICAgICAgIC8vIHZhciBwYXJ0ID0gJzxpbWcgY2xhc3M9XCJpY29uXCIgc3JjPVwiaW1nL3Nsb3RzLycraWNvbnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmljb25zLmxlbmd0aCldKydcIj4nO1xuICAgICAgICBzdHIgKz0gcGFydFxuICAgICAgICBpZiAoeCA8IDMpIGZpcnN0VGhyZWUgKz0gcGFydDtcbiAgICB9XG4gICAgY29sLmlubmVySFRNTCA9ICBzdHIrZmlyc3RUaHJlZTtcbn1cblxuKGZ1bmN0aW9uIHN0YXJ0U2xvdHNJbWcoKXtcblxuICAgIGNvbnN0IHN0YXJ0Q29sMSA9IFsnd2luMS5wbmcnLCAnd2luMTIucG5nJywgJ3dpbjEzLnBuZyddO1xuICAgIGNvbnN0IHN0YXJ0Q29sMiA9IFsnd2luNy5wbmcnLCAnd2luOC5wbmcnLCAnd2luMTAucG5nJ107XG4gICAgY29uc3Qgc3RhcnRDb2wzID0gWyd3aW4xMS5wbmcnLCAnd2luMTQucG5nJywgJ3dpbjEyLnBuZyddO1xuICAgIGNvbnN0IHN0YXJ0Q29sNCA9IFsnd2luNS5wbmcnLCAnd2luMS5wbmcnLCAnd2luMi5wbmcnXTtcbiAgICBjb25zdCBzdGFydENvbDUgPSBbJ3dpbjUucG5nJywgJ3dpbjYucG5nJywgJ3dpbjEzLnBuZyddO1xuXG5cblxuXG4gICAgY29uc3QgY29sc0ltZzEgPSBBcnJheS5mcm9tKGNvbHNbMF0ucXVlcnlTZWxlY3RvckFsbCgnaW1nJykpXG4gICAgY29sc0ltZzFbMzJdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyBzdGFydENvbDFbMF0pXG4gICAgY29sc0ltZzFbMzFdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyBzdGFydENvbDFbMV0pXG4gICAgY29sc0ltZzFbMzBdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyBzdGFydENvbDFbMl0pXG5cblxuICAgIGNvbnN0IGNvbHNJbWcyID0gQXJyYXkuZnJvbShjb2xzWzFdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpKVxuICAgIGNvbHNJbWcyWzMyXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgc3RhcnRDb2wyWzBdKVxuICAgIGNvbHNJbWcyWzMxXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgc3RhcnRDb2wyWzFdKVxuICAgIGNvbHNJbWcyWzMwXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgc3RhcnRDb2wyWzJdKVxuXG4gICAgY29uc3QgY29sc0ltZzMgPSBBcnJheS5mcm9tKGNvbHNbMl0ucXVlcnlTZWxlY3RvckFsbCgnaW1nJykpXG4gICAgY29sc0ltZzNbMzJdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyBzdGFydENvbDNbMF0pXG4gICAgY29sc0ltZzNbMzFdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyBzdGFydENvbDNbMV0pXG4gICAgY29sc0ltZzNbMzBdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyBzdGFydENvbDNbMl0pXG5cbiAgICBjb25zdCBjb2xzSW1nNCA9IEFycmF5LmZyb20oY29sc1szXS5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKSlcbiAgICBjb2xzSW1nNFszMl0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHN0YXJ0Q29sNFswXSlcbiAgICBjb2xzSW1nNFszMV0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHN0YXJ0Q29sNFsxXSlcbiAgICBjb2xzSW1nNFszMF0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHN0YXJ0Q29sNFsyXSlcblxuICAgIGNvbnN0IGNvbHNJbWc1ID0gQXJyYXkuZnJvbShjb2xzWzRdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpKVxuICAgIGNvbHNJbWc1WzMyXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgc3RhcnRDb2w1WzBdKVxuICAgIGNvbHNJbWc1WzMxXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgc3RhcnRDb2w1WzFdKVxuICAgIGNvbHNJbWc1WzMwXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgc3RhcnRDb2w1WzJdKVxufSkoKVxuXG5jb25zdCB3aW4xQ29sMSA9IFsnd2luMS5wbmcnLCAnd2luNS5wbmcnLCAnd2luMTMucG5nJ107XG5jb25zdCB3aW4xQ29sMiA9IFsnd2luNy5wbmcnLCAnd2luNS5wbmcnLCAnd2luMTAucG5nJ107XG5jb25zdCB3aW4xQ29sMyA9IFsnd2luMTEucG5nJywgJ3dpbjUucG5nJywgJ3dpbjEyLnBuZyddO1xuY29uc3Qgd2luMUNvbDQgPSBbJ3dpbjExLnBuZycsICd3aW41LnBuZycsICd3aW4yLnBuZyddO1xuY29uc3Qgd2luMUNvbDUgPSBbJ3dpbjIucG5nJywgJ3dpbjUucG5nJywgJ3dpbjEzLnBuZyddO1xuXG5cblxuY29uc3QgY29sc0ltZzEgPSBBcnJheS5mcm9tKGNvbHNbMF0ucXVlcnlTZWxlY3RvckFsbCgnaW1nJykpXG5jb25zdCBjb2xzSW1nMiA9IEFycmF5LmZyb20oY29sc1sxXS5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKSlcbmNvbnN0IGNvbHNJbWczID0gQXJyYXkuZnJvbShjb2xzWzJdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpKVxuY29uc3QgY29sc0ltZzQgPSBBcnJheS5mcm9tKGNvbHNbM10ucXVlcnlTZWxlY3RvckFsbCgnaW1nJykpXG5jb25zdCBjb2xzSW1nNSA9IEFycmF5LmZyb20oY29sc1s0XS5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKSlcblxuY29uc3QgY29sc0ltZzFUd28gPSBBcnJheS5mcm9tKGNvbHNbMF0ucXVlcnlTZWxlY3RvckFsbCgnaW1nJykpXG5jb25zdCBjb2xzSW1nMlR3byA9IEFycmF5LmZyb20oY29sc1sxXS5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKSlcbmNvbnN0IGNvbHNJbWczVHdvID0gQXJyYXkuZnJvbShjb2xzWzJdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpKVxuY29uc3QgY29sc0ltZzRUd28gPSBBcnJheS5mcm9tKGNvbHNbM10ucXVlcnlTZWxlY3RvckFsbCgnaW1nJykpXG5jb25zdCBjb2xzSW1nNVR3byA9IEFycmF5LmZyb20oY29sc1s0XS5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKSlcblxuXG5sZXQgdHJpZXMgPSAwO1xuZnVuY3Rpb24gc3BpbigpIHtcbiAgICAvL3NvdW5kc1xuXG4gICAgc2xvdHMuY2xhc3NMaXN0LnRvZ2dsZSgnc3Bpbm5pbmcnLCB0cnVlKTtcbiAgICAvL9Ck0LjQutGBINC00LvRjyDQodCw0YTQsNGA0LgsINC60L7RgtC+0YDRi9C5INGA0LXRiNC40Lsg0LPQu9C+0YLQsNGC0Ywg0L/QvtGB0LvQtdC00L3QuNC1INC60LDRgNGC0LjQvdC60Lgg0L/RgNC4INC/0YDQvtC60YDRg9GC0LrQtVxuICAgIGlmICh0cmllcyA9PT0gMCl7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc3QgY29scyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb2wnKTtcbiAgICAgICAgICAgIHRyaWVzKys7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbHNJbWcxWzMyXSlcbiAgICAgICAgICAgIGNvbHNJbWcxWzMyXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgd2luMUNvbDFbMl0pXG4gICAgICAgICAgICBjb2xzSW1nMVszMV0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2wxWzFdKVxuICAgICAgICAgICAgY29sc0ltZzFbMzBdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyB3aW4xQ29sMVswXSlcbiAgICAgICAgICAgIGNvbHNJbWcxWzBdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyB3aW4xQ29sMVswXSlcbiAgICAgICAgICAgIGNvbHNJbWcxWzFdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyB3aW4xQ29sMVsxXSlcbiAgICAgICAgICAgIGNvbHNJbWcxWzJdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyB3aW4xQ29sMVsyXSlcblxuICAgICAgICAgICAgY29sc0ltZzJbMzJdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyB3aW4xQ29sMlsyXSlcbiAgICAgICAgICAgIGNvbHNJbWcyWzMxXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgd2luMUNvbDJbMV0pXG4gICAgICAgICAgICBjb2xzSW1nMlszMF0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2wyWzBdKVxuICAgICAgICAgICAgY29sc0ltZzJbMF0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2wyWzBdKVxuICAgICAgICAgICAgY29sc0ltZzJbMV0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2wyWzFdKVxuICAgICAgICAgICAgY29sc0ltZzJbMl0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2wyWzJdKVxuXG4gICAgICAgICAgICBjb2xzSW1nM1szMl0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2wzWzJdKVxuICAgICAgICAgICAgY29sc0ltZzNbMzFdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyB3aW4xQ29sM1sxXSlcbiAgICAgICAgICAgIGNvbHNJbWczWzMwXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgd2luMUNvbDNbMF0pXG4gICAgICAgICAgICBjb2xzSW1nM1swXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgd2luMUNvbDNbMF0pXG4gICAgICAgICAgICBjb2xzSW1nM1sxXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgd2luMUNvbDNbMV0pXG4gICAgICAgICAgICBjb2xzSW1nM1syXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgd2luMUNvbDNbMl0pXG5cbiAgICAgICAgICAgIGNvbHNJbWc0WzMyXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgd2luMUNvbDRbMl0pXG4gICAgICAgICAgICBjb2xzSW1nNFszMV0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2w0WzFdKVxuICAgICAgICAgICAgY29sc0ltZzRbMzBdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyB3aW4xQ29sNFswXSlcbiAgICAgICAgICAgIGNvbHNJbWc0WzBdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyB3aW4xQ29sNFswXSlcbiAgICAgICAgICAgIGNvbHNJbWc0WzFdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyB3aW4xQ29sNFsxXSlcbiAgICAgICAgICAgIGNvbHNJbWc0WzJdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyB3aW4xQ29sNFsyXSlcblxuICAgICAgICAgICAgY29sc0ltZzVbMzJdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyB3aW4xQ29sNVsyXSlcbiAgICAgICAgICAgIGNvbHNJbWc1WzMxXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgd2luMUNvbDVbMV0pXG4gICAgICAgICAgICBjb2xzSW1nNVszMF0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2w1WzBdKVxuICAgICAgICAgICAgY29sc0ltZzVbMF0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2w1WzBdKVxuICAgICAgICAgICAgY29sc0ltZzVbMV0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2w1WzFdKVxuICAgICAgICAgICAgY29sc0ltZzVbMl0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2w1WzJdKVxuXG4gICAgICAgIH0sIDE1MDApO1xuXG4gICAgfVxuXG4gICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHNsb3RzLmNsYXNzTGlzdC50b2dnbGUoJ3NwaW5uaW5nJywgZmFsc2UpO1xuICAgICAgICBpZiAodHJpZXMgPT09IDEpIHtcbiAgICAgICAgICAgIHNsb3RzV2luZG93LmNsYXNzTGlzdC5hZGQoXCJhZnRlclNwaW5cIilcbiAgICAgICAgICAgIGNvbHNJbWcxWzMxXS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ193aW5BbmltJylcbiAgICAgICAgICAgIGNvbHNJbWcyWzMxXS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ193aW5BbmltJylcbiAgICAgICAgICAgIGNvbHNJbWczWzMxXS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ193aW5BbmltJylcbiAgICAgICAgICAgIGNvbHNJbWc0WzMxXS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ193aW5BbmltJylcbiAgICAgICAgICAgIGNvbHNJbWc1WzMxXS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ193aW5BbmltJylcbiAgICAgICAgICAgIHdpbk91dGVyLmNsYXNzTGlzdC5hZGQoJ193aW5PbmUnKVxuICAgICAgICB9XG4gICAgfSwgMzUwMCk7XG59XG5cbmxldCB0cmllc0NvdW50ZXIgPSAwXG4vLyBsZXQgYmFiYmxlVGV4dEFmdGVyUm90YXRpb24gPSAnVGllbmVzIHVuYSBvcG9ydHVuaWRhZCwgbW9ydGFsJ1xuXG5wbGF5QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmICh0cmllc0NvdW50ZXIgPT09IDApIHtcbiAgICAgICAgcnVuRmlyc3RSb3RhdGlvbigpXG4gICAgfVxufSlcblxuZnVuY3Rpb24gcnVuRmlyc3RSb3RhdGlvbigpIHtcbiAgICBwbGF5QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3B1bHNlLWJ0bicpXG4gICAgcGxheUJ0bi5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCdcbiAgICB3cmFwcGVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSdcbiAgICBzcGluKClcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZG9BZnRlckZpcnN0Um90YXRpb24oKVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+e1xuICAgICAgICAgICAgcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fcGVycy1idWxiXCIpLmNsYXNzTGlzdC5hZGQoXCJidWxiLWZhZGVJblwiKVxuICAgICAgICB9LCAzMDApXG4gICAgfSwgNDAwMClcbiAgICB0cmllc0NvdW50ZXIrK1xufVxuXG5mdW5jdGlvbiBkaXNwbGF5UG9wdXAocG9wdXApIHtcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ19vcGFjaXR5LW92ZXJsYXknKVxuICAgIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKVxufVxuXG5mdW5jdGlvbiBkb0FmdGVyRmlyc3RSb3RhdGlvbigpIHtcbiAgICBkaXNwbGF5UG9wdXAocG9wdXApXG4gICAgLy8gd3JhcHBlci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nXG4gICAgb3ZlcmZsb3cuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJ1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWxsLWxpbmtcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxuICAgIHdyYXBwZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiXG5cbn1cblxuY29scy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgIGlmICgvaVBob25lfGlQYWR8aVBvZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcbiAgICAgICAgLy8g0LrQvtC0INC00LvRjyDQvNC+0LHQuNC70YzQvdGL0YUg0YPRgdGC0YDQvtC50YHRgtCyXG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnX2lvcycpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8g0LrQvtC0INC00LvRjyDQvtCx0YvRh9C90YvRhSDRg9GB0YLRgNC+0LnRgdGC0LJcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdfaW9zJylcbiAgICB9XG5cbi8vIGZvciB0ZXN0XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1idG5cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+e1xuICAgICAgICBpZihvdmVybGF5LmNsYXNzTGlzdC5jb250YWlucyhcIl9vcGFjaXR5LW92ZXJsYXlcIikpe1xuICAgICAgICAgICAgZGlzcGxheVBvcHVwKHBvcHVwKVxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PntcbiAgICAgICAgICAgICAgICBwb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19wZXJzLWJ1bGJcIikuY2xhc3NMaXN0LmFkZChcImJ1bGItZmFkZUluXCIpXG4gICAgICAgICAgICB9LCAzMDApXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoXCJfb3BhY2l0eS1vdmVybGF5XCIpXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+e1xuICAgICAgICAgICAgICAgIHBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3BlcnMtYnVsYlwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiYnVsYi1mYWRlSW5cIilcbiAgICAgICAgICAgIH0sIDMwMClcbiAgICAgICAgfVxuICAgIH0pXG5cbn0pO1xuXG4vLyBURFMgc2NyaXB0XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgIHZhciBwYXJhbXMgPSBbJ2wnLCAndXRtX3NvdXJjZScsICd1dG1fbWVkaXVtJywgJ3V0bV9jYW1wYWlnbicsICd1dG1fdGVybScsICd1dG1fY29udGVudCcsICdwYXJhbTEnLCAncGFyYW0yJywgJ3BhcmFtMycsICdwYXJhbTQnLCAnY3JlYXRpdmVfdHlwZScsICdjcmVhdGl2ZV9pZCddO1xuICAgIHZhciBsaW5rUGFyYW1zID0gWydhZmZpZCcsICdjcGFpZCddOyAvLyDQuNGJ0LXQvCDQsiB1cmwgcmVkaXJlY3RVcmwg0LIgdXJsOlxuXG4gICAgaWYgKHVybC5zZWFyY2hQYXJhbXMuaGFzKCdyZWRpcmVjdFVybCcpKSB7XG4gICAgICAgIHZhciByZWRpcmVjdFVybCA9IG5ldyBVUkwodXJsLnNlYXJjaFBhcmFtcy5nZXQoJ3JlZGlyZWN0VXJsJykpO1xuXG4gICAgICAgIGlmIChyZWRpcmVjdFVybC5ocmVmLm1hdGNoKC9cXC8vZykubGVuZ3RoID09PSA0ICYmIHJlZGlyZWN0VXJsLnNlYXJjaFBhcmFtcy5nZXQoJ2wnKSkge1xuICAgICAgICAgICAgLy/QtdGB0LvQuCDRgdGB0YvQu9C60LAg0LIg0YHRgdGL0LvQutCwIHJlZGlyZWN0VXJsINC60L7RgNGA0LXQutGC0L3QsNGPXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmVkaXJlY3RVcmwnLCByZWRpcmVjdFVybC5ocmVmKTsgLy8g0YPQutCw0LfRi9Cy0LDQtdC8INGC0L7Rh9C60L7QuSDQstGF0L7QtNCwINC00L7QvNC10L0g0YEg0L/RgNC+0YLQvtC60L7Qu9C+0Lwg0LjQtyByZWRpcmVjdFVybFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGFyYW1zLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICAgIGlmICh1cmwuc2VhcmNoUGFyYW1zLmhhcyhwYXJhbSkpIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHBhcmFtLCB1cmwuc2VhcmNoUGFyYW1zLmdldChwYXJhbSkpO1xuICAgIH0pO1xuXG4gICAgbGlua1BhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uIChsaW5rUGFyYW0pIHtcbiAgICAgICAgaWYgKHVybC5zZWFyY2hQYXJhbXMuaGFzKGxpbmtQYXJhbSkpIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGxpbmtQYXJhbSwgdXJsLnNlYXJjaFBhcmFtcy5nZXQobGlua1BhcmFtKSk7XG4gICAgfSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgbGluayxcbiAgICAgICAgICAgIHBhcmVudCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2EnKTtcblxuICAgICAgICBpZiAocGFyZW50LmdldEF0dHJpYnV0ZSgnaHJlZicpICE9PSAnaHR0cHM6Ly90ZHMuZmF2YmV0LnBhcnRuZXJzJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdmFyIGFmZmlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FmZmlkJyk7XG4gICAgICAgICAgICB2YXIgY3BhaWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3BhaWQnKTtcblxuICAgICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicmVkaXJlY3RVcmxcIikpIHtcbiAgICAgICAgICAgICAgICBsaW5rID0gbmV3IFVSTChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInJlZGlyZWN0VXJsXCIpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGluayA9IG5ldyBVUkwocGFyZW50LmhyZWYpO1xuICAgICAgICAgICAgICAgIGlmIChhZmZpZCAmJiBjcGFpZCkge1xuICAgICAgICAgICAgICAgICAgICBsaW5rLnBhdGhuYW1lID0gJy8nICsgYWZmaWQgKyAnLycgKyBjcGFpZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJhbXMuZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgICAgICAgICBpZiAodXJsLnNlYXJjaFBhcmFtcy5oYXMocGFyYW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmsuc2VhcmNoUGFyYW1zLnNldChwYXJhbSwgbG9jYWxTdG9yYWdlLmdldEl0ZW0ocGFyYW0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSBsaW5rO1xuICAgICAgICB9XG4gICAgfSk7XG59KSgpO1xuXG5cbiJdfQ==
