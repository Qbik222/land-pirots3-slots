"use strict";

window.addEventListener('orientationchange', function () {
  window.location.reload();
});
var playBtn = document.querySelector('.play-btn'),
  overlay = document.querySelector('.land__overlay'),
  popup = document.querySelector('.popup'),
  overflow = document.querySelector('body'),
  wrapper = document.querySelector('.land'),
  // bubbleText = document.querySelector('.bonus__main-bubble'),
  winOuter = document.querySelector('.outer-col-win'),
  slotsWindow = document.querySelector(".window");

//slots
var icons = ['win1.png', 'win2.png', 'win3.png', 'win4.png', 'win5.png', 'win6.png', 'win7.png', 'win8.png', 'win9.png', 'win10.png', 'win11.png', 'win12.png', 'win13.png', 'win14.png', 'win15.png'];
var slots = document.querySelector('.slots');
var cols = document.querySelectorAll('.col');
for (var i in cols) {
  if (!cols.hasOwnProperty(i)) continue;
  var col = cols[i];
  var str = '';
  var firstThree = '';
  for (var x = 0; x < 30; x++) {
    var part = '<div class="icon-wrap"><img class="icon" src="img/slots/' + icons[Math.floor(Math.random() * icons.length)] + '"></div>';
    // var part = '<img class="icon" src="img/slots/'+icons[Math.floor(Math.random()*icons.length)]+'">';
    str += part;
    if (x < 3) firstThree += part;
  }
  col.innerHTML = str + firstThree;
}
(function startSlotsImg() {
  var startCol1 = ['win1.png', 'win12.png', 'win13.png'];
  var startCol2 = ['win7.png', 'win8.png', 'win10.png'];
  var startCol3 = ['win11.png', 'win14.png', 'win12.png'];
  var startCol4 = ['win5.png', 'win1.png', 'win2.png'];
  var startCol5 = ['win5.png', 'win6.png', 'win13.png'];
  var colsImg1 = Array.from(cols[0].querySelectorAll('img'));
  colsImg1[32].setAttribute('src', 'img/slots/' + startCol1[0]);
  colsImg1[31].setAttribute('src', 'img/slots/' + startCol1[1]);
  colsImg1[30].setAttribute('src', 'img/slots/' + startCol1[2]);
  var colsImg2 = Array.from(cols[1].querySelectorAll('img'));
  colsImg2[32].setAttribute('src', 'img/slots/' + startCol2[0]);
  colsImg2[31].setAttribute('src', 'img/slots/' + startCol2[1]);
  colsImg2[30].setAttribute('src', 'img/slots/' + startCol2[2]);
  var colsImg3 = Array.from(cols[2].querySelectorAll('img'));
  colsImg3[32].setAttribute('src', 'img/slots/' + startCol3[0]);
  colsImg3[31].setAttribute('src', 'img/slots/' + startCol3[1]);
  colsImg3[30].setAttribute('src', 'img/slots/' + startCol3[2]);
  var colsImg4 = Array.from(cols[3].querySelectorAll('img'));
  colsImg4[32].setAttribute('src', 'img/slots/' + startCol4[0]);
  colsImg4[31].setAttribute('src', 'img/slots/' + startCol4[1]);
  colsImg4[30].setAttribute('src', 'img/slots/' + startCol4[2]);
  var colsImg5 = Array.from(cols[4].querySelectorAll('img'));
  colsImg5[32].setAttribute('src', 'img/slots/' + startCol5[0]);
  colsImg5[31].setAttribute('src', 'img/slots/' + startCol5[1]);
  colsImg5[30].setAttribute('src', 'img/slots/' + startCol5[2]);
})();
var win1Col1 = ['win1.png', 'win5.png', 'win13.png'];
var win1Col2 = ['win7.png', 'win5.png', 'win10.png'];
var win1Col3 = ['win11.png', 'win5.png', 'win12.png'];
var win1Col4 = ['win11.png', 'win5.png', 'win2.png'];
var win1Col5 = ['win2.png', 'win5.png', 'win13.png'];
var colsImg1 = Array.from(cols[0].querySelectorAll('img'));
var colsImg2 = Array.from(cols[1].querySelectorAll('img'));
var colsImg3 = Array.from(cols[2].querySelectorAll('img'));
var colsImg4 = Array.from(cols[3].querySelectorAll('img'));
var colsImg5 = Array.from(cols[4].querySelectorAll('img'));
var colsImg1Two = Array.from(cols[0].querySelectorAll('img'));
var colsImg2Two = Array.from(cols[1].querySelectorAll('img'));
var colsImg3Two = Array.from(cols[2].querySelectorAll('img'));
var colsImg4Two = Array.from(cols[3].querySelectorAll('img'));
var colsImg5Two = Array.from(cols[4].querySelectorAll('img'));
var tries = 0;
function spin() {
  //sounds

  slots.classList.toggle('spinning', true);
  //Фикс для Сафари, который решил глотать последние картинки при прокрутке
  if (tries === 0) {
    window.setTimeout(function () {
      var cols = document.querySelectorAll('.col');
      tries++;
      console.log(colsImg1[32]);
      colsImg1[32].setAttribute('src', 'img/slots/' + win1Col1[2]);
      colsImg1[31].setAttribute('src', 'img/slots/' + win1Col1[1]);
      colsImg1[30].setAttribute('src', 'img/slots/' + win1Col1[0]);
      colsImg1[0].setAttribute('src', 'img/slots/' + win1Col1[0]);
      colsImg1[1].setAttribute('src', 'img/slots/' + win1Col1[1]);
      colsImg1[2].setAttribute('src', 'img/slots/' + win1Col1[2]);
      colsImg2[32].setAttribute('src', 'img/slots/' + win1Col2[2]);
      colsImg2[31].setAttribute('src', 'img/slots/' + win1Col2[1]);
      colsImg2[30].setAttribute('src', 'img/slots/' + win1Col2[0]);
      colsImg2[0].setAttribute('src', 'img/slots/' + win1Col2[0]);
      colsImg2[1].setAttribute('src', 'img/slots/' + win1Col2[1]);
      colsImg2[2].setAttribute('src', 'img/slots/' + win1Col2[2]);
      colsImg3[32].setAttribute('src', 'img/slots/' + win1Col3[2]);
      colsImg3[31].setAttribute('src', 'img/slots/' + win1Col3[1]);
      colsImg3[30].setAttribute('src', 'img/slots/' + win1Col3[0]);
      colsImg3[0].setAttribute('src', 'img/slots/' + win1Col3[0]);
      colsImg3[1].setAttribute('src', 'img/slots/' + win1Col3[1]);
      colsImg3[2].setAttribute('src', 'img/slots/' + win1Col3[2]);
      colsImg4[32].setAttribute('src', 'img/slots/' + win1Col4[2]);
      colsImg4[31].setAttribute('src', 'img/slots/' + win1Col4[1]);
      colsImg4[30].setAttribute('src', 'img/slots/' + win1Col4[0]);
      colsImg4[0].setAttribute('src', 'img/slots/' + win1Col4[0]);
      colsImg4[1].setAttribute('src', 'img/slots/' + win1Col4[1]);
      colsImg4[2].setAttribute('src', 'img/slots/' + win1Col4[2]);
      colsImg5[32].setAttribute('src', 'img/slots/' + win1Col5[2]);
      colsImg5[31].setAttribute('src', 'img/slots/' + win1Col5[1]);
      colsImg5[30].setAttribute('src', 'img/slots/' + win1Col5[0]);
      colsImg5[0].setAttribute('src', 'img/slots/' + win1Col5[0]);
      colsImg5[1].setAttribute('src', 'img/slots/' + win1Col5[1]);
      colsImg5[2].setAttribute('src', 'img/slots/' + win1Col5[2]);
    }, 1500);
  }
  window.setTimeout(function () {
    slots.classList.toggle('spinning', false);
    if (tries === 1) {
      slotsWindow.classList.add("afterSpin");
      colsImg1[31].parentElement.classList.add('_winAnim');
      colsImg2[31].parentElement.classList.add('_winAnim');
      colsImg3[31].parentElement.classList.add('_winAnim');
      colsImg4[31].parentElement.classList.add('_winAnim');
      colsImg5[31].parentElement.classList.add('_winAnim');
      winOuter.classList.add('_winOne');
    }
  }, 3500);
}
var triesCounter = 0;
// let babbleTextAfterRotation = 'Tienes una oportunidad, mortal'

playBtn.addEventListener('click', function () {
  if (triesCounter === 0) {
    runFirstRotation();
  }
});
function runFirstRotation() {
  playBtn.classList.remove('pulse-btn');
  playBtn.style.cursor = 'default';
  wrapper.style.pointerEvents = 'none';
  spin();
  setTimeout(function () {
    doAfterFirstRotation();
    setTimeout(function () {
      popup.querySelector(".popup__pers-bulb").classList.add("bulb-fadeIn");
    }, 300);
  }, 4000);
  triesCounter++;
}
function displayPopup(popup) {
  overlay.classList.remove('_opacity-overlay');
  // popup.classList.remove('hide')
}

function doAfterFirstRotation() {
  displayPopup(popup);
  wrapper.style.pointerEvents = 'auto';
  overflow.style.overflow = 'hidden';
}
cols.forEach(function (item) {
  if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
    // код для мобильных устройств
    item.classList.add('_ios');
  } else {
    // код для обычных устройств
    item.classList.remove('_ios');
  }
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImxvY2F0aW9uIiwicmVsb2FkIiwicGxheUJ0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm92ZXJsYXkiLCJwb3B1cCIsIm92ZXJmbG93Iiwid3JhcHBlciIsIndpbk91dGVyIiwic2xvdHNXaW5kb3ciLCJpY29ucyIsInNsb3RzIiwiY29scyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpIiwiaGFzT3duUHJvcGVydHkiLCJjb2wiLCJzdHIiLCJmaXJzdFRocmVlIiwieCIsInBhcnQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJsZW5ndGgiLCJpbm5lckhUTUwiLCJzdGFydFNsb3RzSW1nIiwic3RhcnRDb2wxIiwic3RhcnRDb2wyIiwic3RhcnRDb2wzIiwic3RhcnRDb2w0Iiwic3RhcnRDb2w1IiwiY29sc0ltZzEiLCJBcnJheSIsImZyb20iLCJzZXRBdHRyaWJ1dGUiLCJjb2xzSW1nMiIsImNvbHNJbWczIiwiY29sc0ltZzQiLCJjb2xzSW1nNSIsIndpbjFDb2wxIiwid2luMUNvbDIiLCJ3aW4xQ29sMyIsIndpbjFDb2w0Iiwid2luMUNvbDUiLCJjb2xzSW1nMVR3byIsImNvbHNJbWcyVHdvIiwiY29sc0ltZzNUd28iLCJjb2xzSW1nNFR3byIsImNvbHNJbWc1VHdvIiwidHJpZXMiLCJzcGluIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwic2V0VGltZW91dCIsImNvbnNvbGUiLCJsb2ciLCJhZGQiLCJwYXJlbnRFbGVtZW50IiwidHJpZXNDb3VudGVyIiwicnVuRmlyc3RSb3RhdGlvbiIsInJlbW92ZSIsInN0eWxlIiwiY3Vyc29yIiwicG9pbnRlckV2ZW50cyIsImRvQWZ0ZXJGaXJzdFJvdGF0aW9uIiwiZGlzcGxheVBvcHVwIiwiZm9yRWFjaCIsIml0ZW0iLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50Il0sIm1hcHBpbmdzIjoiOztBQUFBQSxNQUFNLENB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LENBQUMsS0FBSyxFQUFFLFlBQVksR0FBRVIsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQzVESyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUNHLFlBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxHQUFFUixTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFHNUQsSUFBTVMsUUFBUSxHQUFHSCxLQUFLLENBQUNDLElBQUksQ0FBQ3RCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7RUFDNUR1QixRQUFRLENBQUMsRUFBRSxDQUFDLENBQUNELFlBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxHQUFFUCxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDNURRLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQ0QsWUFBWSxDQUFDLEtBQUssRUFBRSxZQUFZLEdBQUVQLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUM1RFEsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDRCxZQUFZLENBQUMsS0FBSyxFQUFFLFlBQVksR0FBRVAsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBRTVELElBQU1TLFFBQVEsR0FBR0osS0FBSyxDQUFDQyxJQUFJLENBQUN0QixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO0VBQzVEd0IsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDRixZQUFZLENBQUMsS0FBSyxFQUFFLFlBQVksR0FBRU4sU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQzVEUSxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUNGLFlBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxHQUFFTixTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDNURRLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQ0YsWUFBWSxDQUFDLEtBQUssRUFBRSxZQUFZLEdBQUVOLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUU1RCxJQUFNUyxRQUFRLEdBQUdMLEtB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QyxDQUFDLENBQUNHLFlBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxHQUFFSyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDMURSLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQ0csWUFBWSxDQUFDLEtBQUssRUFBRSxZQUFZLEdBQUVLLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUUxREosUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDRCxZQUFZLENBQUMsS0FBSyxFQUFFLFlBQVksR0FBRU0sUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO01BQzNETCxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUNELFlBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxHQUFFTSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDM0RMLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQ0QsWUFBWSxDQUFDLEtBQUssRUFBRSxZQUFZLEdBQUVNLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUMzREwsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDRCxZQUFZLENBQUMsS0FBSyxFQUFFLFlBQVksR0FBRU0sUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO01BQzFETCxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUNELFlBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxHQUFFTSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDMURMLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQ0QsWUFBWSxDQUFDLEtBQUssRUFBRSxZQUFZLEdBQUVNLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUUxREosUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDRixZQUFZLENBQUMsS0FBSyxFQUFFLFlBQVksR0FBRU8sUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO01BQzNETCxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUNGLFlBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxHQUFFTyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDM0RMLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQ0YsWUFBWSxDQUFDLEtBQUssRUFBRSxZQUFZLEdBQUVPLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUMzREwsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDRixZQUFZLENBQUMsS0FBSyxFQUFFLFlBQVksR0FBRU8sUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO01BQzFETCxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUNGLFlBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxHQUFFTyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDMURMLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQ0YsWUFBWSxDQUFDLEtBQUssRUFBRSxZQUFZLEdBQUVPLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUUxREosUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDSCxZQUFZLENBQUMsS0FBSyxFQUFFLFlBQVksR0FBRVEsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO01BQzNETCxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUNILFlBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxHQUFFUSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDM0RMLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQ0gsWUFBWSxDQUFDLEtBQUssRUFBRSxZQUFZLEdBQUVRLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUMzREwsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDSCxZQUFZLENBQUMsS0FBSyxFQUFFLFlBQVksR0FBRVEsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO01BQzFETCxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUNILFlBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxHQUFFUSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDMURMLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQ0gsWUFBWSxDQUFDLEtBQUssRUFBRSxZQUFZLEdBQUVRLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUUxREosUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDSixZQUFZLENB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Q0FBQztFQUM1QztBQUNKOztBQUVBLFNBQVNJLG9CQUFvQixHQUFHO0VBQzVCQyxZQUFZLENBQUM3RCxLQUFLLENBQUM7RUFDbkJFLE9BQU8sQ0FBQ3VELEtBQUssQ0FBQ0UsYUFBYSxHQUFHLE1BQU07RUFDcEMxRCxRQUFRLENBQUN3RCxLQUFLLENBQUN4RCxRQUFRLEdBQUcsUUFBUTtBQUN0QztBQUVBTSxJQUFJLENBQUN1RCxPQUFPLENBQUMsVUFBQUMsSUFBSSxFQUFJO0VBQ2pCLElBQUksbUJBQW1CLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxDQUFDQyxTQUFTLENBQUMsRUFBRTtJQUMvQztJQUNBSCxJQUFJLENBQUNoQixTQUFTLENBQUNLLEdBQUcsQ0FBQyxNQUFNLENBQUM7RUFDOUIsQ0FBQyxNQUFNO0lBQ0g7SUFDQVcsSUFBSSxDQUFDaEIsU0FBUyxDQUFDUyxNQUFNLENBQUMsTUFBTSxDQUFDO0VBQ2pDO0FBSUosQ0FBQyxDQUFDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCAoKSA9PiB7XG4gICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG59KTtcblxuY29uc3QgcGxheUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5LWJ0bicpLFxuICAgIG92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGFuZF9fb3ZlcmxheScpLFxuICAgIHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwJyksXG4gICAgb3ZlcmZsb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JyksXG4gICAgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYW5kJyksXG4gICAgLy8gYnViYmxlVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib251c19fbWFpbi1idWJibGUnKSxcbiAgICB3aW5PdXRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vdXRlci1jb2wtd2luJyksXG4gICAgc2xvdHNXaW5kb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbmRvd1wiKVxuXG5cbi8vc2xvdHNcbnZhciBpY29ucyA9IFtcbiAgICAnd2luMS5wbmcnLCd3aW4yLnBuZycsJ3dpbjMucG5nJywnd2luNC5wbmcnLCd3aW41LnBuZycsJ3dpbjYucG5nJywnd2luNy5wbmcnLCd3aW44LnBuZycsJ3dpbjkucG5nJyxcbiAgICAnd2luMTAucG5nJywnd2luMTEucG5nJywnd2luMTIucG5nJywnd2luMTMucG5nJywnd2luMTQucG5nJywnd2luMTUucG5nJ1xuXTtcblxudmFyIHNsb3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsb3RzJyk7XG52YXIgY29scyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb2wnKTtcblxuZm9yKHZhciBpIGluIGNvbHMpIHtcbiAgICBpZiAoIWNvbHMuaGFzT3duUHJvcGVydHkoaSkpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgIHZhciBjb2wgPSBjb2xzW2ldO1xuICAgIHZhciBzdHIgPSAnJztcbiAgICB2YXIgZmlyc3RUaHJlZSA9ICcnO1xuICAgIGZvcih2YXIgeCA9IDA7IHggPCAzMDsgeCsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gJzxkaXYgY2xhc3M9XCJpY29uLXdyYXBcIj48aW1nIGNsYXNzPVwiaWNvblwiIHNyYz1cImltZy9zbG90cy8nK2ljb25zW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSppY29ucy5sZW5ndGgpXSsnXCI+PC9kaXY+JztcbiAgICAgICAgLy8gdmFyIHBhcnQgPSAnPGltZyBjbGFzcz1cImljb25cIiBzcmM9XCJpbWcvc2xvdHMvJytpY29uc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqaWNvbnMubGVuZ3RoKV0rJ1wiPic7XG4gICAgICAgIHN0ciArPSBwYXJ0XG4gICAgICAgIGlmICh4IDwgMykgZmlyc3RUaHJlZSArPSBwYXJ0O1xuICAgIH1cbiAgICBjb2wuaW5uZXJIVE1MID0gIHN0citmaXJzdFRocmVlO1xufVxuXG4oZnVuY3Rpb24gc3RhcnRTbG90c0ltZygpe1xuXG4gICAgY29uc3Qgc3RhcnRDb2wxID0gWyd3aW4xLnBuZycsICd3aW4xMi5wbmcnLCAnd2luMTMucG5nJ107XG4gICAgY29uc3Qgc3RhcnRDb2wyID0gWyd3aW43LnBuZycsICd3aW44LnBuZycsICd3aW4xMC5wbmcnXTtcbiAgICBjb25zdCBzdGFydENvbDMgPSBbJ3dpbjExLnBuZycsICd3aW4xNC5wbmcnLCAnd2luMTIucG5nJ107XG4gICAgY29uc3Qgc3RhcnRDb2w0ID0gWyd3aW41LnBuZycsICd3aW4xLnBuZycsICd3aW4yLnBuZyddO1xuICAgIGNvbnN0IHN0YXJ0Q29sNSA9IFsnd2luNS5wbmcnLCAnd2luNi5wbmcnLCAnd2luMTMucG5nJ107XG5cblxuXG5cbiAgICBjb25zdCBjb2xzSW1nMSA9IEFycmF5LmZyb20oY29sc1swXS5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKSlcbiAgICBjb2xzSW1nMVszMl0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHN0YXJ0Q29sMVswXSlcbiAgICBjb2xzSW1nMVszMV0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHN0YXJ0Q29sMVsxXSlcbiAgICBjb2xzSW1nMVszMF0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHN0YXJ0Q29sMVsyXSlcblxuXG4gICAgY29uc3QgY29sc0ltZzIgPSBBcnJheS5mcm9tKGNvbHNbMV0ucXVlcnlTZWxlY3RvckFsbCgnaW1nJykpXG4gICAgY29sc0ltZzJbMzJdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyBzdGFydENvbDJbMF0pXG4gICAgY29sc0ltZzJbMzFdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyBzdGFydENvbDJbMV0pXG4gICAgY29sc0ltZzJbMzBdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyBzdGFydENvbDJbMl0pXG5cbiAgICBjb25zdCBjb2xzSW1nMyA9IEFycmF5LmZyb20oY29sc1syXS5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKSlcbiAgICBjb2xzSW1nM1szMl0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHN0YXJ0Q29sM1swXSlcbiAgICBjb2xzSW1nM1szMV0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHN0YXJ0Q29sM1sxXSlcbiAgICBjb2xzSW1nM1szMF0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHN0YXJ0Q29sM1syXSlcblxuICAgIGNvbnN0IGNvbHNJbWc0ID0gQXJyYXkuZnJvbShjb2xzWzNdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpKVxuICAgIGNvbHNJbWc0WzMyXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgc3RhcnRDb2w0WzBdKVxuICAgIGNvbHNJbWc0WzMxXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgc3RhcnRDb2w0WzFdKVxuICAgIGNvbHNJbWc0WzMwXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgc3RhcnRDb2w0WzJdKVxuXG4gICAgY29uc3QgY29sc0ltZzUgPSBBcnJheS5mcm9tKGNvbHNbNF0ucXVlcnlTZWxlY3RvckFsbCgnaW1nJykpXG4gICAgY29sc0ltZzVbMzJdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyBzdGFydENvbDVbMF0pXG4gICAgY29sc0ltZzVbMzFdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyBzdGFydENvbDVbMV0pXG4gICAgY29sc0ltZzVbMzBdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyBzdGFydENvbDVbMl0pXG59KSgpXG5cbmNvbnN0IHdpbjFDb2wxID0gWyd3aW4xLnBuZycsICd3aW41LnBuZycsICd3aW4xMy5wbmcnXTtcbmNvbnN0IHdpbjFDb2wyID0gWyd3aW43LnBuZycsICd3aW41LnBuZycsICd3aW4xMC5wbmcnXTtcbmNvbnN0IHdpbjFDb2wzID0gWyd3aW4xMS5wbmcnLCAnd2luNS5wbmcnLCAnd2luMTIucG5nJ107XG5jb25zdCB3aW4xQ29sNCA9IFsnd2luMTEucG5nJywgJ3dpbjUucG5nJywgJ3dpbjIucG5nJ107XG5jb25zdCB3aW4xQ29sNSA9IFsnd2luMi5wbmcnLCAnd2luNS5wbmcnLCAnd2luMTMucG5nJ107XG5cblxuXG5jb25zdCBjb2xzSW1nMSA9IEFycmF5LmZyb20oY29sc1swXS5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKSlcbmNvbnN0IGNvbHNJbWcyID0gQXJyYXkuZnJvbShjb2xzWzFdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpKVxuY29uc3QgY29sc0ltZzMgPSBBcnJheS5mcm9tKGNvbHNbMl0ucXVlcnlTZWxlY3RvckFsbCgnaW1nJykpXG5jb25zdCBjb2xzSW1nNCA9IEFycmF5LmZyb20oY29sc1szXS5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKSlcbmNvbnN0IGNvbHNJbWc1ID0gQXJyYXkuZnJvbShjb2xzWzRdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpKVxuXG5jb25zdCBjb2xzSW1nMVR3byA9IEFycmF5LmZyb20oY29sc1swXS5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKSlcbmNvbnN0IGNvbHNJbWcyVHdvID0gQXJyYXkuZnJvbShjb2xzWzFdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpKVxuY29uc3QgY29sc0ltZzNUd28gPSBBcnJheS5mcm9tKGNvbHNbMl0ucXVlcnlTZWxlY3RvckFsbCgnaW1nJykpXG5jb25zdCBjb2xzSW1nNFR3byA9IEFycmF5LmZyb20oY29sc1szXS5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKSlcbmNvbnN0IGNvbHNJbWc1VHdvID0gQXJyYXkuZnJvbShjb2xzWzRdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpKVxuXG5cbmxldCB0cmllcyA9IDA7XG5mdW5jdGlvbiBzcGluKCkge1xuICAgIC8vc291bmRzXG5cbiAgICBzbG90cy5jbGFzc0xpc3QudG9nZ2xlKCdzcGlubmluZycsIHRydWUpO1xuICAgIC8v0KTQuNC60YEg0LTQu9GPINCh0LDRhNCw0YDQuCwg0LrQvtGC0L7RgNGL0Lkg0YDQtdGI0LjQuyDQs9C70L7RgtCw0YLRjCDQv9C+0YHQu9C10LTQvdC40LUg0LrQsNGA0YLQuNC90LrQuCDQv9GA0Lgg0L/RgNC+0LrRgNGD0YLQutC1XG4gICAgaWYgKHRyaWVzID09PSAwKXtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjb25zdCBjb2xzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbCcpO1xuICAgICAgICAgICAgdHJpZXMrKztcblxuICAgICAgICAgICAgY29uc29sZS5sb2coY29sc0ltZzFbMzJdKVxuICAgICAgICAgICAgY29sc0ltZzFbMzJdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyB3aW4xQ29sMVsyXSlcbiAgICAgICAgICAgIGNvbHNJbWcxWzMxXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgd2luMUNvbDFbMV0pXG4gICAgICAgICAgICBjb2xzSW1nMVszMF0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2wxWzBdKVxuICAgICAgICAgICAgY29sc0ltZzFbMF0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2wxWzBdKVxuICAgICAgICAgICAgY29sc0ltZzFbMV0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2wxWzFdKVxuICAgICAgICAgICAgY29sc0ltZzFbMl0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2wxWzJdKVxuXG4gICAgICAgICAgICBjb2xzSW1nMlszMl0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2wyWzJdKVxuICAgICAgICAgICAgY29sc0ltZzJbMzFdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyB3aW4xQ29sMlsxXSlcbiAgICAgICAgICAgIGNvbHNJbWcyWzMwXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgd2luMUNvbDJbMF0pXG4gICAgICAgICAgICBjb2xzSW1nMlswXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgd2luMUNvbDJbMF0pXG4gICAgICAgICAgICBjb2xzSW1nMlsxXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgd2luMUNvbDJbMV0pXG4gICAgICAgICAgICBjb2xzSW1nMlsyXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgd2luMUNvbDJbMl0pXG5cbiAgICAgICAgICAgIGNvbHNJbWczWzMyXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgd2luMUNvbDNbMl0pXG4gICAgICAgICAgICBjb2xzSW1nM1szMV0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2wzWzFdKVxuICAgICAgICAgICAgY29sc0ltZzNbMzBdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyB3aW4xQ29sM1swXSlcbiAgICAgICAgICAgIGNvbHNJbWczWzBdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyB3aW4xQ29sM1swXSlcbiAgICAgICAgICAgIGNvbHNJbWczWzFdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyB3aW4xQ29sM1sxXSlcbiAgICAgICAgICAgIGNvbHNJbWczWzJdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyB3aW4xQ29sM1syXSlcblxuICAgICAgICAgICAgY29sc0ltZzRbMzJdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyB3aW4xQ29sNFsyXSlcbiAgICAgICAgICAgIGNvbHNJbWc0WzMxXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgd2luMUNvbDRbMV0pXG4gICAgICAgICAgICBjb2xzSW1nNFszMF0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2w0WzBdKVxuICAgICAgICAgICAgY29sc0ltZzRbMF0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2w0WzBdKVxuICAgICAgICAgICAgY29sc0ltZzRbMV0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2w0WzFdKVxuICAgICAgICAgICAgY29sc0ltZzRbMl0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2w0WzJdKVxuXG4gICAgICAgICAgICBjb2xzSW1nNVszMl0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrIHdpbjFDb2w1WzJdKVxuICAgICAgICAgICAgY29sc0ltZzVbMzFdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nKyB3aW4xQ29sNVsxXSlcbiAgICAgICAgICAgIGNvbHNJbWc1WzMwXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgd2luMUNvbDVbMF0pXG4gICAgICAgICAgICBjb2xzSW1nNVswXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgd2luMUNvbDVbMF0pXG4gICAgICAgICAgICBjb2xzSW1nNVsxXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgd2luMUNvbDVbMV0pXG4gICAgICAgICAgICBjb2xzSW1nNVsyXS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJysgd2luMUNvbDVbMl0pXG5cbiAgICAgICAgfSwgMTUwMCk7XG5cbiAgICB9XG5cbiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgc2xvdHMuY2xhc3NMaXN0LnRvZ2dsZSgnc3Bpbm5pbmcnLCBmYWxzZSk7XG4gICAgICAgIGlmICh0cmllcyA9PT0gMSkge1xuICAgICAgICAgICAgc2xvdHNXaW5kb3cuY2xhc3NMaXN0LmFkZChcImFmdGVyU3BpblwiKVxuICAgICAgICAgICAgY29sc0ltZzFbMzFdLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnX3dpbkFuaW0nKVxuICAgICAgICAgICAgY29sc0ltZzJbMzFdLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnX3dpbkFuaW0nKVxuICAgICAgICAgICAgY29sc0ltZzNbMzFdLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnX3dpbkFuaW0nKVxuICAgICAgICAgICAgY29sc0ltZzRbMzFdLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnX3dpbkFuaW0nKVxuICAgICAgICAgICAgY29sc0ltZzVbMzFdLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnX3dpbkFuaW0nKVxuICAgICAgICAgICAgd2luT3V0ZXIuY2xhc3NMaXN0LmFkZCgnX3dpbk9uZScpXG4gICAgICAgIH1cbiAgICB9LCAzNTAwKTtcbn1cblxubGV0IHRyaWVzQ291bnRlciA9IDBcbi8vIGxldCBiYWJibGVUZXh0QWZ0ZXJSb3RhdGlvbiA9ICdUaWVuZXMgdW5hIG9wb3J0dW5pZGFkLCBtb3J0YWwnXG5cbnBsYXlCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKHRyaWVzQ291bnRlciA9PT0gMCkge1xuICAgICAgICBydW5GaXJzdFJvdGF0aW9uKClcbiAgICB9XG59KVxuXG5mdW5jdGlvbiBydW5GaXJzdFJvdGF0aW9uKCkge1xuICAgIHBsYXlCdG4uY2xhc3NMaXN0LnJlbW92ZSgncHVsc2UtYnRuJylcbiAgICBwbGF5QnRuLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0J1xuICAgIHdyYXBwZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJ1xuICAgIHNwaW4oKVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBkb0FmdGVyRmlyc3RSb3RhdGlvbigpXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT57XG4gICAgICAgICAgICBwb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19wZXJzLWJ1bGJcIikuY2xhc3NMaXN0LmFkZChcImJ1bGItZmFkZUluXCIpXG4gICAgICAgIH0sIDMwMClcbiAgICB9LCA0MDAwKVxuICAgIHRyaWVzQ291bnRlcisrXG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlQb3B1cChwb3B1cCkge1xuICAgIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnX29wYWNpdHktb3ZlcmxheScpXG4gICAgLy8gcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpXG59XG5cbmZ1bmN0aW9uIGRvQWZ0ZXJGaXJzdFJvdGF0aW9uKCkge1xuICAgIGRpc3BsYXlQb3B1cChwb3B1cClcbiAgICB3cmFwcGVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0bydcbiAgICBvdmVyZmxvdy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nXG59XG5cbmNvbHMuZm9yRWFjaChpdGVtID0+IHtcbiAgICBpZiAoL2lQaG9uZXxpUGFkfGlQb2QvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG4gICAgICAgIC8vINC60L7QtCDQtNC70Y8g0LzQvtCx0LjQu9GM0L3Ri9GFINGD0YHRgtGA0L7QudGB0YLQslxuICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ19pb3MnKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vINC60L7QtCDQtNC70Y8g0L7QsdGL0YfQvdGL0YUg0YPRgdGC0YDQvtC50YHRgtCyXG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnX2lvcycpXG4gICAgfVxuXG5cblxufSk7XG4iXX0=
